!function(n,t){"use strict";n.getUserMedia=function(i,r,u){var s,f,a,c,l,h,e,v,y,o;if(void 0!==i)if(navigator.getUserMedia_=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia_){h={};e="";i.video===!0&&(h.video=!0,e="video");i.audio===!0&&(h.audio=!0,""!==e&&(e+=", "),e+="audio");s=t.getElementById(i.el);f=t.createElement("video");c=parseInt(s.offsetWidth,10);l=parseInt(s.offsetHeight,10);i.width<c&&i.height<l&&(i.width=c,i.height=l);f.width=i.width;f.height=i.height;f.autoplay=!0;s.appendChild(f);a=f;i.videoEl=a;i.context="webrtc";try{navigator.getUserMedia_(h,r,u)}catch(w){try{navigator.getUserMedia_(e,r,u)}catch(b){return void 0}}}else(void 0===i.noFallback||i.noFallback===!1)&&(v='<object id="XwebcamXobjectX" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" data="'+i.swffile+'" width="'+i.width+'" height="'+i.height+'"><param name="movie" value="'+i.swffile+'" /><param name="FlashVars" value="mode='+i.mode+"&amp;quality="+i.quality+'" /><param name="allowScriptAccess" value="always" /><\/object>',y=t.getElementById(i.el),y.innerHTML=v,function p(f){o=t.getElementById("XwebcamXobjectX");void 0!==o.capture?(i.capture=function(n){try{return o.capture(n)}catch(t){}},i.save=function(n){try{return o.save(n)}catch(t){}},i.setCamera=function(n){try{return o.setCamera(n)}catch(t){}},i.getCameraList=function(){try{return o.getCameraList()}catch(n){}},i.context="flash",i.onLoad=r):0===f?u():n.setTimeout(p,1e3*(4-f),f-1)}(3))}}(this,document)